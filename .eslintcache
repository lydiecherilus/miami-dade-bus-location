[{"C:\\Users\\lydie\\desktop\\projects\\miami-dade-bus-location\\bus\\src\\index.js":"1","C:\\Users\\lydie\\desktop\\projects\\miami-dade-bus-location\\bus\\src\\reportWebVitals.js":"2","C:\\Users\\lydie\\desktop\\projects\\miami-dade-bus-location\\bus\\src\\App.js":"3","C:\\Users\\lydie\\desktop\\projects\\miami-dade-bus-location\\bus\\src\\Map.js":"4","C:\\Users\\lydie\\desktop\\projects\\miami-dade-bus-location\\bus\\src\\Time.js":"5","C:\\Users\\lydie\\Desktop\\Projects\\miami-dade-bus-location\\bus\\src\\index.js":"6","C:\\Users\\lydie\\Desktop\\Projects\\miami-dade-bus-location\\bus\\src\\App.js":"7","C:\\Users\\lydie\\Desktop\\Projects\\miami-dade-bus-location\\bus\\src\\reportWebVitals.js":"8","C:\\Users\\lydie\\Desktop\\Projects\\miami-dade-bus-location\\bus\\src\\Time.js":"9","C:\\Users\\lydie\\Desktop\\Projects\\miami-dade-bus-location\\bus\\src\\Map.js":"10","C:\\Users\\lydie\\Desktop\\miami-dade-bus-location\\src\\index.js":"11","C:\\Users\\lydie\\Desktop\\miami-dade-bus-location\\src\\App.js":"12","C:\\Users\\lydie\\Desktop\\miami-dade-bus-location\\src\\reportWebVitals.js":"13","C:\\Users\\lydie\\Desktop\\miami-dade-bus-location\\src\\Map.js":"14","C:\\Users\\lydie\\Desktop\\miami-dade-bus-location\\src\\Time.js":"15"},{"size":500,"mtime":1606967630914,"results":"16","hashOfConfig":"17"},{"size":362,"mtime":1606967630914,"results":"18","hashOfConfig":"17"},{"size":270,"mtime":1609888269748,"results":"19","hashOfConfig":"17"},{"size":4038,"mtime":1609884114261,"results":"20","hashOfConfig":"17"},{"size":529,"mtime":1609867220473,"results":"21","hashOfConfig":"17"},{"size":500,"mtime":1606967630914,"results":"22","hashOfConfig":"23"},{"size":270,"mtime":1609888269748,"results":"24","hashOfConfig":"23"},{"size":362,"mtime":1606967630914,"results":"25","hashOfConfig":"23"},{"size":529,"mtime":1609867220473,"results":"26","hashOfConfig":"23"},{"size":4067,"mtime":1610130703555,"results":"27","hashOfConfig":"23"},{"size":500,"mtime":1606967630914,"results":"28","hashOfConfig":"29"},{"size":270,"mtime":1609888269748,"results":"30","hashOfConfig":"29"},{"size":362,"mtime":1606967630914,"results":"31","hashOfConfig":"29"},{"size":4191,"mtime":1610397254052,"results":"32","hashOfConfig":"29"},{"size":529,"mtime":1609867220473,"results":"33","hashOfConfig":"29"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"1cbtxr3",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"ont7us",{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"fut2sq",{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\lydie\\desktop\\projects\\miami-dade-bus-location\\bus\\src\\index.js",[],["67","68"],"C:\\Users\\lydie\\desktop\\projects\\miami-dade-bus-location\\bus\\src\\reportWebVitals.js",[],"C:\\Users\\lydie\\desktop\\projects\\miami-dade-bus-location\\bus\\src\\App.js",[],"C:\\Users\\lydie\\desktop\\projects\\miami-dade-bus-location\\bus\\src\\Map.js",["69","70"],"import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport ReactMapGL, { Marker, Popup, NavigationControl } from 'react-map-gl';\r\nimport Geocoder from 'react-map-gl-geocoder';\r\nimport useSwr from 'swr';\r\nimport 'react-map-gl-geocoder/dist/mapbox-gl-geocoder.css';\r\nimport './App.css'\r\n\r\n\r\nReactMapGL.accessToken = process.env.REACT_APP_MAPBOX_TOKEN\r\n\r\nfunction Map() {\r\n\r\n    /** initialize map */\r\n    const [viewport, setViewport] = useState({\r\n        width: '100vw',\r\n        height: '100vh',\r\n        latitude: 25.599349,\r\n        longitude: -80.34819,\r\n        zoom: 13,\r\n    });\r\n\r\n    /** set state */\r\n    const [busData, setBusData] = useState([]);\r\n    const [selectedBus, setSelectedBus] = useState(null);\r\n\r\n    /** fetch data from Miami Transit API and update state */\r\n    const { data, error } = useSwr(`http://miami-transit-api.herokuapp.com/api/Buses.json`,\r\n        (...args) => fetch(...args)\r\n            .then(res => res.json()));\r\n\r\n    useEffect(() => {\r\n        if (data) setBusData(data.RecordSet.Record);\r\n    }, [data]);\r\n\r\n    /** add zoom and movement functionality to map */\r\n    const mapRef = useRef();\r\n    const handleViewportChange = useCallback(\r\n        (newViewport) => setViewport(newViewport),\r\n        []\r\n    );\r\n\r\n    /** initialize geocoder */\r\n    const handleGeocoderViewportChange = useCallback(\r\n        (newViewport) => {\r\n            const geocoderDefaultOverrides = { transitionDuration: 800 };\r\n            return handleViewportChange({\r\n                ...newViewport,\r\n                ...geocoderDefaultOverrides\r\n            });\r\n        },\r\n        []\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <ReactMapGL\r\n                ref={mapRef}\r\n                {...viewport}\r\n                mapboxApiAccessToken={ReactMapGL.accessToken}\r\n                onViewportChange={handleViewportChange}\r\n                mapStyle='mapbox://styles/mapbox/streets-v11'\r\n            >\r\n                {/* add a marker for each bus on the map */}\r\n                {busData.map((bus, idx) => {\r\n                    return (\r\n                        <Marker\r\n                            latitude={parseFloat(bus.Latitude)}\r\n                            longitude={parseFloat(bus.Longitude)}\r\n                            key={idx}\r\n                        >\r\n                            <button onClick={e => {\r\n                                e.preventDefault();\r\n                                setSelectedBus(bus);\r\n                            }}>\r\n                                <img src='/bus-svg.html' alt='bus' />\r\n                            </button>\r\n                        </Marker>\r\n                    );\r\n                })}\r\n\r\n                {/* display popups */}\r\n                {selectedBus ? (\r\n                    <Popup className='popup'\r\n                        latitude={parseFloat(selectedBus.Latitude)}\r\n                        longitude={parseFloat(selectedBus.Longitude)}\r\n                        onClose={() => {\r\n                            setSelectedBus(null);\r\n                        }}>\r\n                        <div>\r\n                            <h5>{selectedBus.TripHeadsign}</h5>\r\n                            <p><strong>{selectedBus.ServiceDirection}</strong></p>\r\n                        </div>\r\n                    </Popup>\r\n                ) : null}\r\n\r\n                {/* add geocoder */}\r\n                <Geocoder\r\n                    mapRef={mapRef}\r\n                    mapboxApiAccessToken={ReactMapGL.accessToken}\r\n                    onViewportChange={handleGeocoderViewportChange}\r\n                    zoom={12}\r\n                    trackProximity='true'\r\n                    placeholder='enter your address'\r\n                    position='top-right'\r\n                />\r\n\r\n                {/* add navigation control */}\r\n                <div className='navigation-control'>\r\n                    <NavigationControl />\r\n                </div>\r\n\r\n            </ReactMapGL>\r\n        </div>\r\n    );\r\n}\r\nexport default Map;\r\n","C:\\Users\\lydie\\desktop\\projects\\miami-dade-bus-location\\bus\\src\\Time.js",[],"C:\\Users\\lydie\\Desktop\\Projects\\miami-dade-bus-location\\bus\\src\\index.js",[],["71","72"],"C:\\Users\\lydie\\Desktop\\Projects\\miami-dade-bus-location\\bus\\src\\App.js",[],"C:\\Users\\lydie\\Desktop\\Projects\\miami-dade-bus-location\\bus\\src\\reportWebVitals.js",[],"C:\\Users\\lydie\\Desktop\\Projects\\miami-dade-bus-location\\bus\\src\\Time.js",[],"C:\\Users\\lydie\\Desktop\\Projects\\miami-dade-bus-location\\bus\\src\\Map.js",["73","74"],"C:\\Users\\lydie\\Desktop\\miami-dade-bus-location\\src\\index.js",[],"C:\\Users\\lydie\\Desktop\\miami-dade-bus-location\\src\\App.js",[],"C:\\Users\\lydie\\Desktop\\miami-dade-bus-location\\src\\reportWebVitals.js",[],"C:\\Users\\lydie\\Desktop\\miami-dade-bus-location\\src\\Map.js",["75","76"],"C:\\Users\\lydie\\Desktop\\miami-dade-bus-location\\src\\Time.js",[],{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","replacedBy":"80"},{"ruleId":"81","severity":1,"message":"82","line":27,"column":19,"nodeType":"83","messageId":"84","endLine":27,"endColumn":24},{"ruleId":"85","severity":1,"message":"86","line":51,"column":9,"nodeType":"87","endLine":51,"endColumn":11,"suggestions":"88"},{"ruleId":"77","replacedBy":"89"},{"ruleId":"79","replacedBy":"90"},{"ruleId":"81","severity":1,"message":"82","line":28,"column":19,"nodeType":"83","messageId":"84","endLine":28,"endColumn":24},{"ruleId":"85","severity":1,"message":"86","line":52,"column":9,"nodeType":"87","endLine":52,"endColumn":11,"suggestions":"91"},{"ruleId":"81","severity":1,"message":"82","line":26,"column":19,"nodeType":"83","messageId":"84","endLine":26,"endColumn":24},{"ruleId":"85","severity":1,"message":"86","line":50,"column":9,"nodeType":"87","endLine":50,"endColumn":11,"suggestions":"92"},"no-native-reassign",["93"],"no-negated-in-lhs",["94"],"no-unused-vars","'error' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useCallback has a missing dependency: 'handleViewportChange'. Either include it or remove the dependency array.","ArrayExpression",["95"],["93"],["94"],["96"],["97"],"no-global-assign","no-unsafe-negation",{"desc":"98","fix":"99"},{"desc":"98","fix":"100"},{"desc":"98","fix":"101"},"Update the dependencies array to be: [handleViewportChange]",{"range":"102","text":"103"},{"range":"104","text":"103"},{"range":"105","text":"103"},[1628,1630],"[handleViewportChange]",[1662,1664],[1636,1638]]