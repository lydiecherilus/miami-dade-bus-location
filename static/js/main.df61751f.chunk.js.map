{"version":3,"sources":["Time.js","Map.js","bus.png","App.js","reportWebVitals.js","index.js"],"names":["Time","state","date","Date","setInterval","setState","className","this","toLocaleTimeString","interval","Component","ReactMapGL","accessToken","process","Map","useState","width","height","latitude","longitude","zoom","viewport","setViewport","busData","setBusData","selectedBus","setSelectedBus","useSwr","fetch","then","res","json","data","error","useEffect","RecordSet","Record","mapRef","useRef","handleViewportChange","useCallback","newViewport","handleGeocoderViewportChange","transitionDuration","ref","mapboxApiAccessToken","onViewportChange","mapStyle","map","bus","idx","parseFloat","Latitude","Longitude","onClick","e","preventDefault","src","alt","onClose","TripHeadsign","ServiceDirection","trackProximity","placeholder","position","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wLAqBeA,E,4MAlBXC,MAAQ,CACJC,KAAM,IAAIC,M,yDAEF,IAAD,OACPC,aAAY,WACR,EAAKC,SAAS,CAAEH,KAAM,IAAIC,SAC3B,O,+BAGH,OACI,sBAAKG,UAAU,OAAf,UACI,oDACA,6BAAKC,KAAKN,MAAMC,KAAKM,uBACpBD,KAAKE,kB,GAdHC,a,qDCOnBC,IAAWC,YAAcC,oGA2GVC,MAzGf,WAAe,MAGqBC,mBAAS,CACrCC,MAAO,QACPC,OAAQ,QACRC,SAAU,UACVC,WAAY,SACZC,KAAM,KARC,mBAGJC,EAHI,KAGMC,EAHN,OAYmBP,mBAAS,IAZ5B,mBAYJQ,EAZI,KAYKC,EAZL,OAa2BT,mBAAS,MAbpC,mBAaJU,EAbI,KAaSC,EAbT,OAgBaC,YAAO,yDAC3B,kBAAaC,MAAK,WAAL,aACRC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,aAFjBC,EAhBG,EAgBHA,KAhBG,EAgBGC,MAIdC,qBAAU,WACFF,GAAMR,EAAWQ,EAAKG,UAAUC,UACrC,CAACJ,IAGJ,IAAMK,EAASC,mBACTC,EAAuBC,uBACzB,SAACC,GAAD,OAAiBnB,EAAYmB,KAC7B,IAIEC,EAA+BF,uBACjC,SAACC,GAEG,OAAOF,EAAqB,2BACrBE,GAF0B,CAAEE,mBAAoB,SAM3D,IAGJ,OACI,8BACI,eAAC,IAAD,yBACIC,IAAKP,GACDhB,GAFR,IAGIwB,qBAAsBlC,IAAWC,YACjCkC,iBAAkBP,EAClBQ,SAAS,qCALb,UAQKxB,EAAQyB,KAAI,SAACC,EAAKC,GACf,OACI,cAAC,IAAD,CACIhC,SAAUiC,WAAWF,EAAIG,UACzBjC,UAAWgC,WAAWF,EAAII,WAF9B,SAKI,wBAAQC,QAAS,SAAAC,GACbA,EAAEC,iBACF9B,EAAeuB,IAFnB,SAII,qBAAKQ,IC3EtB,iqDD2EqCC,IAAI,WANvBR,MAahBzB,EACG,cAAC,IAAD,CAAOnB,UAAU,QACbY,SAAUiC,WAAW1B,EAAY2B,UACjCjC,UAAWgC,WAAW1B,EAAY4B,WAClCM,QAAS,WACLjC,EAAe,OAJvB,SAMI,gCACI,6BAAKD,EAAYmC,eACjB,4BAAG,iCAASnC,EAAYoC,0BAGhC,KAGJ,cAAC,IAAD,CACIxB,OAAQA,EACRQ,qBAAsBlC,IAAWC,YACjCkC,iBAAkBJ,EAClBtB,KAAM,GACN0C,eAAe,OACfC,YAAY,qBACZC,SAAS,cAIb,qBAAK1D,UAAU,qBAAf,SACI,cAAC,IAAD,aE9FL2D,MAVf,WACE,OACE,sBAAK3D,UAAU,MAAf,UACE,oEACA,cAAC,EAAD,IACA,cAAC,EAAD,QCES4D,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBvC,MAAK,YAAkD,IAA/CwC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.df61751f.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass Time extends Component {\r\n    state = {\r\n        date: new Date()\r\n    };\r\n    interval() {\r\n        setInterval(() => {\r\n            this.setState({ date: new Date() });\r\n        }, 1000);\r\n    }\r\n    render() {\r\n        return (\r\n            <div className='time'>\r\n                <h3>Current Local Time</h3>\r\n                <h3>{this.state.date.toLocaleTimeString()}</h3>\r\n                {this.interval()}\r\n            </div>\r\n        );\r\n    };\r\n}\r\nexport default Time;\r\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport ReactMapGL, { Marker, Popup, NavigationControl } from 'react-map-gl';\r\nimport Geocoder from 'react-map-gl-geocoder';\r\nimport useSwr from 'swr';\r\nimport busImage from './bus.png'\r\nimport 'react-map-gl-geocoder/dist/mapbox-gl-geocoder.css';\r\nimport './App.css'\r\n\r\n\r\nReactMapGL.accessToken = process.env.REACT_APP_MAPBOX_TOKEN\r\n\r\nfunction Map() {\r\n\r\n    /** initialize map */\r\n    const [viewport, setViewport] = useState({\r\n        width: '100vw',\r\n        height: '100vh',\r\n        latitude: 25.599349,\r\n        longitude: -80.34819,\r\n        zoom: 13,\r\n    });\r\n\r\n    /** set state */\r\n    const [busData, setBusData] = useState([]);\r\n    const [selectedBus, setSelectedBus] = useState(null);\r\n\r\n    /** fetch data from Miami Transit API and update state */\r\n    const { data, error } = useSwr(`http://miami-transit-api.herokuapp.com/api/Buses.json`,\r\n        (...args) => fetch(...args)\r\n            .then(res => res.json()));\r\n\r\n    useEffect(() => {\r\n        if (data) setBusData(data.RecordSet.Record);\r\n    }, [data]);\r\n\r\n    /** add zoom and movement functionality to map */\r\n    const mapRef = useRef();\r\n    const handleViewportChange = useCallback(\r\n        (newViewport) => setViewport(newViewport),\r\n        []\r\n    );\r\n\r\n    /** initialize geocoder */\r\n    const handleGeocoderViewportChange = useCallback(\r\n        (newViewport) => {\r\n            const geocoderDefaultOverrides = { transitionDuration: 800 };\r\n            return handleViewportChange({\r\n                ...newViewport,\r\n                ...geocoderDefaultOverrides\r\n            });\r\n        },\r\n        []\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <ReactMapGL\r\n                ref={mapRef}\r\n                {...viewport}\r\n                mapboxApiAccessToken={ReactMapGL.accessToken}\r\n                onViewportChange={handleViewportChange}\r\n                mapStyle='mapbox://styles/mapbox/streets-v11'\r\n            >\r\n                {/* add a marker for each bus on the map */}\r\n                {busData.map((bus, idx) => {\r\n                    return (\r\n                        <Marker\r\n                            latitude={parseFloat(bus.Latitude)}\r\n                            longitude={parseFloat(bus.Longitude)}\r\n                            key={idx}\r\n                        >\r\n                            <button onClick={e => {\r\n                                e.preventDefault();\r\n                                setSelectedBus(bus);\r\n                            }}>\r\n                                <img src={busImage} alt='bus' />\r\n                            </button>\r\n                        </Marker>\r\n                    );\r\n                })}\r\n\r\n                {/* display popups */}\r\n                {selectedBus ? (\r\n                    <Popup className='popup'\r\n                        latitude={parseFloat(selectedBus.Latitude)}\r\n                        longitude={parseFloat(selectedBus.Longitude)}\r\n                        onClose={() => {\r\n                            setSelectedBus(null);\r\n                        }}>\r\n                        <div>\r\n                            <h5>{selectedBus.TripHeadsign}</h5>\r\n                            <p><strong>{selectedBus.ServiceDirection}</strong></p>\r\n                        </div>\r\n                    </Popup>\r\n                ) : null}\r\n\r\n                {/* add geocoder */}\r\n                <Geocoder\r\n                    mapRef={mapRef}\r\n                    mapboxApiAccessToken={ReactMapGL.accessToken}\r\n                    onViewportChange={handleGeocoderViewportChange}\r\n                    zoom={12}\r\n                    trackProximity='true'\r\n                    placeholder='enter your address'\r\n                    position='top-right'\r\n                />\r\n\r\n                {/* add navigation control */}\r\n                <div className='navigation-control'>\r\n                    <NavigationControl />\r\n                </div>\r\n\r\n            </ReactMapGL>\r\n        </div>\r\n    );\r\n}\r\nexport default Map;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NkFFMzZGODQwNzFBMTFFMTgxQ0FEMDQ0OTYxQUFFNDEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NkFFMzZGODUwNzFBMTFFMTgxQ0FEMDQ0OTYxQUFFNDEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5RDI3NDk2QjA3MTkxMUUxODFDQUQwNDQ5NjFBQUU0MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5RDI3NDk2QzA3MTkxMUUxODFDQUQwNDQ5NjFBQUU0MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoY5fCIAAAFYSURBVHja5FbrbQIxDE4qBqAb0A0q3f3nOgErwAidoGIC2ABGgAkIA5w6ArdBb4P0i+QgN40vuYeQqkaybBHb3/kZtLVWPeI8qQedmRe01r8ui6KYg91A84Sftq7r59iFz5i+CwEQQBZgH6A1qIGjF+FDPkFO9x10gl6TDQQHzvlhQIZaBwiwYxIIIBXYZWRJ3gBmONAsorRj8hZkKHVNzCOl2FFFqVbEDdf7ERHl/IvujnC+6RMG7A9UUwVbzSMK2/uVyecBKTsz0KprjhZMNgOAjOBLBHI1afuikE3TCUS5XHqgER3nbZc5K+g6Auias+t8AVfUtqpn1zmbVeBLnCPffTcY/r3t/b+ANrRGctZQUlfzp7wsS8uGT7NusolBjeq636VdF75Jd55o66SuGNEUJyuiKQ4f+hBoPyHOnj+WsafcSoVOfH3Urit1rSDn/DER7b4FGADLCZ/P8CC6oAAAAABJRU5ErkJggg==\"","import React from 'react'\nimport Time from './Time';\nimport Map from './Map'\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <h1>Miami Dade Bus Real-Time Locations</h1>\n      <Time />\n      <Map />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}